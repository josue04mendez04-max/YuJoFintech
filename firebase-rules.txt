/**
 * üîê FIREBASE FIRESTORE SECURITY RULES
 * 
 * ‚ö° INSTRUCCIONES R√ÅPIDAS:
 * 1. Copia TODO el texto de abajo (desde rules_version hasta la √∫ltima })
 * 2. Ve a: https://console.firebase.google.com
 * 3. Proyecto: easyrep-a1 ‚Üí Firestore Database ‚Üí Rules
 * 4. Selecciona todo (Ctrl+A) y borra
 * 5. Pega lo que copiaste (Ctrl+V)
 * 6. Haz clic en PUBLISH
 */

// ============================================================
// ‚úÖ PARA DESARROLLO (Usa esto ahora)
// ============================================================

rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /yujofintech/{document=**} {
      allow read, write: if true;
    }
  }
}

// ============================================================
// EXPLICACI√ìN
// ============================================================
//
// allow read     ‚Üí Permite leer cualquier documento
// allow write    ‚Üí Permite crear, actualizar y eliminar
// if true        ‚Üí Sin restricci√≥n (solo en desarrollo)
//
// Esto significa:
// ‚úÖ Lectura: Cualquiera
// ‚úÖ Escritura: Cualquiera
// ‚ö†Ô∏è NO USAR EN PRODUCCI√ìN
//

// ============================================================
// ‚≠ê PARA PRODUCCI√ìN (Usa despu√©s)
// ============================================================
/*

rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /yujofintech/{document=**} {
      allow read, write: if request.auth != null;
    }
  }
}

// request.auth != null = Usuario debe estar logeado

*/

// ============================================================
// üõ°Ô∏è PARA M√ÅXIMA SEGURIDAD (Usa despu√©s)
// ============================================================
/*

rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /yujofintech/{docId} {
      // Solo lectura para usuarios autenticados
      allow read: if request.auth != null;
      
      // Crear solo si v√°lida estructura
      allow create: if 
        request.auth != null &&
        request.resource.data.type in ['INGRESO', 'GASTO', 'INVERSION'] &&
        request.resource.data.amount is number &&
        request.resource.data.amount > 0 &&
        request.resource.data.description is string &&
        request.resource.data.status in ['PENDIENTE_CORTE', 'EN_CURSO', 'ARCHIVADO'];
      
      // Actualizar solo estado
      allow update: if 
        request.auth != null &&
        request.resource.data.status in ['PENDIENTE_CORTE', 'EN_CURSO', 'ARCHIVADO'];
      
      // No permitir eliminaci√≥n
      allow delete: if false;
    }
  }
}

*/
